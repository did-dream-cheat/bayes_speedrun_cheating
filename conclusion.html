
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Conclusion &#8212; Did Dream Cheat? A Bayesian Analysis of a Bernoulli Process.</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Future Work" href="future_work.html" />
    <link rel="prev" title="Real-World Results" href="data_results.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">Did Dream Cheat? A Bayesian Analysis of a Bernoulli Process.</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="index.html">
   Executive Summary
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="critique_of_reports.html">
   A Critique of the Reports
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="methodology.html">
   Methodology
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sim_results.html">
   Simulation Results
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data_results.html">
   Real-World Results
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Conclusion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="future_work.html">
   Future Work
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="zzz_bibliography.html">
   Bibliography
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/conclusion.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/hjhornbeck/bayes_speedrun_cheating/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/hjhornbeck/bayes_speedrun_cheating/main?urlpath=tree/conclusion.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/hjhornbeck/bayes_speedrun_cheating/blob/main/conclusion.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#stopping-rules">
   Stopping Rules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lindley-s-paradox">
   Lindley’s Paradox
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="conclusion">
<h1>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h1>
<p>I will refrain from stating conclusively that Dream boosted his Blaze rod drop and Ender pearl barter rate. To explain why, it is worth discussing stopping rules.</p>
<div class="section" id="stopping-rules">
<span id="sec-stopping-rules"></span><h2>Stopping Rules<a class="headerlink" href="#stopping-rules" title="Permalink to this headline">¶</a></h2>
<p>Both the MST and PE reports invoke stopping rules, though in a way that is not congruent with how they are used within the scientific community.</p>
<div class="margin sidebar">
<p class="sidebar-title">P-values</p>
<p>As I mentioned in <a class="reference internal" href="critique_of_reports.html#sec-p-value-misunderstood"><span class="std std-ref">P-values are Not What You Think</span></a>, even professionals misunderstand p-values on a regular basis.</p>
</div>
<blockquote>
<div><p>Suppose that a researcher is testing whether one variable influences another or is comparing two treatments or effect sizes. Suppose also that the researcher is primarily interested in whether there is an effect (or difference) and, if so, the direction of the effect. Finally, suppose that the researcher wants to set alpha at .05, which is to say, have a 5% probability of rejecting the null hypothesis of no effect, if it is true.</p>
</div></blockquote>
<blockquote>
<div><p>Using the fixed-sample stopping rule, the researcher would determine the number of subjects to be tested prior to performing the study. However, there is another type of stopping rule, called sequential stopping rules, which was first proposed by Wald in 1947. In a sequential stopping rule, the outcome ofthe statistical test could lead to testing more subjects. Thus, the number of subjects to be tested is not fixed in advance.<a class="bibtex reference internal" href="zzz_bibliography.html#frick-better-1998" id="id1">[Fri98]</a></p>
</div></blockquote>
<blockquote>
<div><p>According to Wainer (2000) an adaptive test can be considered complete after a predetermined number of items have been administered, when a predetermined level of measurement precision has been reached, or when a predetermined length of time has elapsed. The two most commonly used methods for determining when a computerized adaptive test is complete are the fixed length and variable length stopping rules.</p>
</div></blockquote>
<blockquote>
<div><p>Under a fixed length stopping rule, an adaptive test is terminated when a predetermined number of items have been administered. Accordingly, all examinees are administered the same number of items, regardless of the degree of measurement precision achieved upon termination of the test. […]</p>
</div></blockquote>
<blockquote>
<div><p>In contrast, variable length stopping rules typically seek to achieve a certain degree of measurement precision for all examinees, even when doing so means that some examinees are given more items than others. Two types of variable length stopping rules have been used (Dodd, Koch, &amp; De Ayala, 1993). These are the standard error (SE) stopping rule and the minimum information stopping rule. Of these, the most commonly used has been the SE stopping rule, which terminates an adaptive test when a predetermined standard error has been reached for the most recent examinee trait estimate (Boyd, Dodd, &amp; Choi, 2010).<a class="bibtex reference internal" href="zzz_bibliography.html#choi-new-2010" id="id2">[CGD10]</a></p>
</div></blockquote>
<blockquote>
<div><p>One criticism of rules like O’Brien and Fleming is their rigidity in requiring a fixed maximum number of preplanned interim analyses. Greater flexibility is possible with the Peto-Haybittle rule, which simply specifies a fixed p value (often <span class="math notranslate nohighlight">\(p&lt;0.001\)</span>) for stopping early. For example, the European myocardial infarction amiodarone trial (EMIAT) is an ongoing study of 1500 patients at high risk after myocardial infarction comparing amiodarone (an antiarrhythmic drug) with placebo. Two year mortality is the primary end point, and the stopping guideline for efficacy is <span class="math notranslate nohighlight">\(p &lt; 0.001\)</span> in favour of amiodarone.<a class="bibtex reference internal" href="zzz_bibliography.html#pocock-when-1992" id="id3">[Poc92]</a></p>
</div></blockquote>
<p>A clear stopping rule is necessary when the number of datapoints you could look at is practically infinite; we could survey every single person in the United States to determine their political views, but it is more feasible to pick a large enough sample of them to achieve a certain statistical accuracy. Alternatively, we could flip between data gathering and analysis until our target accuracy or statistical measure is reached, but this risks coming to a premature stop due to statistical fluctuations; had we just analyzed X more datapoints, our test statistic would switch from “statistically significant” to “not statistically significant” and our declaration of significance would be premature.</p>
<p>Dream has not completed a practically infinite number of random-seed any-percent Minecraft 1.16 runs, however. If our hypothesis is that Dream boosted his drop/barter rate since returning to that speedrun category, then the entire dataset consists of thirty-three runs where Blazes were killed for Blaze rods, and twenty-two runs where Ender pearls were bartered for, spread across six streaming sessions. There is no more data to be collected, and the data that is present is nowhere near large enough to pose an analytic challenge. If those datapoints were insufficient to establish the hypothesis, then a well-designed statistical test metric will conclude the evidence is inconclusive. If the fluctuations could be due to chance, then a well-designed metric will take that into account. The data cannot be cherry-picked to artificially boost the metric, as the MST report examines every applicable cherry.</p>
<p>The imposition of a binary decision threshold on continuous test statistics, and the resulting necessity of stopping rules, has led some researchers to call for the abandonment of statistical significance entirely.<a class="bibtex reference internal" href="zzz_bibliography.html#doi-10-1080-00031305-2018-1527253" id="id4">[MGG+19]</a> Rather than have the researcher or publisher check if p-values or Bayes factors cross a certain threshold, they propose researchers and publishers take a holistic approach that also factors in “related prior evidence, plausibility of mechanism, study design and data quality, real world costs and benefits,” and “novelty of finding” among other things.</p>
<p>As an outsider to the Minecraft speedrunning community, I do not have full knowledge of prior evidence. I do not have a good understanding of the costs or benefits of removing Dream’s speed-running records, and should I make the wrong decision I will not pay the consequences. The best thing I can do is to instead lay out my full reasoning as clearly I can. If the community accepts the premises behind my arguements and can find few flaws in how I link them together, they are in a much better position to translate a continuous Bayes factor into a binary decision.</p>
</div>
<div class="section" id="lindley-s-paradox">
<span id="sec-lindley-paradox"></span><h2>Lindley’s Paradox<a class="headerlink" href="#lindley-s-paradox" title="Permalink to this headline">¶</a></h2>
<p>This analysis might seem like a waste: both the MST and PE reports conclude Dream cheated, and this report only avoids saying so because it is not the author’s place to. If frequentist and Bayesian methods always come to the same conclusion, why does it matter which we choose?</p>
<p>Let’s do a case study of Benex, another speedrunner the MST report gathered data on. Rather than repeat the prior chart, we’ll do a simple frequentist analysis of Benex’s data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Execute this cell to install all dependencies. Apologies for the spam.</span>

<span class="c1"># If you&#39;re running this on your own computer, I recommend altering &quot;install mpmath&quot; </span>
<span class="c1">#  to read &quot;install --user mpmath&quot;, that way you don&#39;t need administrator access.</span>
<span class="c1"># You can get rid of the spam by changing &quot;pip install&quot; to &quot;pip -q install&quot;, but on Colab</span>
<span class="c1">#  you could miss a message that you need to restart your runtime. If you don&#39;t restart,</span>
<span class="c1">#  the code won&#39;t work, hence why the default is to spam.</span>
<span class="c1"># A few error messages are fine, I usually get one about mismatched versions and the code</span>
<span class="c1">#  still runs. </span>

<span class="o">!</span>pip install mpmath myst_nb numpy pandas matplotlib scipy
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: mpmath in /usr/lib/python3/dist-packages (1.1.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: myst_nb in /home/hjhornbeck/.local/lib/python3.8/site-packages (0.10.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: numpy in /usr/lib/python3/dist-packages (1.18.4)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pandas in /usr/lib/python3/dist-packages (1.0.5)
Requirement already satisfied: matplotlib in /usr/lib/python3/dist-packages (3.3.0)
Requirement already satisfied: scipy in /usr/lib/python3/dist-packages (1.5.2)
Requirement already satisfied: importlib-metadata in /usr/lib/python3/dist-packages (from myst_nb) (1.6.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: sphinx-togglebutton~=0.2.2 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from myst_nb) (0.2.3)
Requirement already satisfied: jupyter-sphinx==0.3.1 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from myst_nb) (0.3.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: jupyter-cache~=0.4.1 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from myst_nb) (0.4.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: ipython in /home/hjhornbeck/.local/lib/python3.8/site-packages (from myst_nb) (7.19.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: docutils&gt;=0.15 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from myst_nb) (0.16)
Requirement already satisfied: nbconvert~=5.6 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from myst_nb) (5.6.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: nbformat~=5.0 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from myst_nb) (5.0.8)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: ipywidgets&lt;8,&gt;=7.0.0 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from myst_nb) (7.6.3)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: sphinx&lt;4,&gt;=2 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from myst_nb) (3.4.3)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: myst-parser~=0.12.9 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from myst_nb) (0.12.10)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pyyaml in /usr/lib/python3/dist-packages (from myst_nb) (5.3.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: setuptools in /usr/lib/python3/dist-packages (from sphinx-togglebutton~=0.2.2-&gt;myst_nb) (49.3.1)
Requirement already satisfied: wheel in /usr/lib/python3/dist-packages (from sphinx-togglebutton~=0.2.2-&gt;myst_nb) (0.34.2)
Requirement already satisfied: attrs in /usr/lib/python3/dist-packages (from jupyter-cache~=0.4.1-&gt;myst_nb) (19.3.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: sqlalchemy~=1.3.12 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from jupyter-cache~=0.4.1-&gt;myst_nb) (1.3.22)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: nbclient&lt;0.6,&gt;=0.2 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from jupyter-cache~=0.4.1-&gt;myst_nb) (0.5.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: nbdime in /home/hjhornbeck/.local/lib/python3.8/site-packages (from jupyter-cache~=0.4.1-&gt;myst_nb) (2.1.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: backcall in /usr/lib/python3/dist-packages (from ipython-&gt;myst_nb) (0.2.0)
Requirement already satisfied: pexpect&gt;4.3; sys_platform != &quot;win32&quot; in /usr/lib/python3/dist-packages (from ipython-&gt;myst_nb) (4.6.0)
Requirement already satisfied: traitlets&gt;=4.2 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from ipython-&gt;myst_nb) (5.0.5)
Requirement already satisfied: prompt-toolkit!=3.0.0,!=3.0.1,&lt;3.1.0,&gt;=2.0.0 in /usr/lib/python3/dist-packages (from ipython-&gt;myst_nb) (3.0.6)
Requirement already satisfied: decorator in /usr/lib/python3/dist-packages (from ipython-&gt;myst_nb) (4.4.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: jedi&gt;=0.10 in /usr/lib/python3/dist-packages (from ipython-&gt;myst_nb) (0.17.0)
Requirement already satisfied: pygments in /home/hjhornbeck/.local/lib/python3.8/site-packages (from ipython-&gt;myst_nb) (2.7.3)
Requirement already satisfied: pickleshare in /usr/lib/python3/dist-packages (from ipython-&gt;myst_nb) (0.7.5)
Requirement already satisfied: testpath in /usr/lib/python3/dist-packages (from nbconvert~=5.6-&gt;myst_nb) (0.4.4)
Requirement already satisfied: jinja2&gt;=2.4 in /usr/lib/python3/dist-packages (from nbconvert~=5.6-&gt;myst_nb) (2.11.2)
Requirement already satisfied: bleach in /usr/lib/python3/dist-packages (from nbconvert~=5.6-&gt;myst_nb) (3.2.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: jupyter-core in /usr/lib/python3/dist-packages (from nbconvert~=5.6-&gt;myst_nb) (4.6.3)
Requirement already satisfied: defusedxml in /usr/lib/python3/dist-packages (from nbconvert~=5.6-&gt;myst_nb) (0.6.0)
Requirement already satisfied: entrypoints&gt;=0.2.2 in /usr/lib/python3/dist-packages (from nbconvert~=5.6-&gt;myst_nb) (0.3)
Requirement already satisfied: mistune&lt;2,&gt;=0.8.1 in /usr/lib/python3/dist-packages (from nbconvert~=5.6-&gt;myst_nb) (0.8.4)
Requirement already satisfied: pandocfilters&gt;=1.4.1 in /usr/lib/python3/dist-packages (from nbconvert~=5.6-&gt;myst_nb) (1.4.2)
Requirement already satisfied: ipython-genutils in /home/hjhornbeck/.local/lib/python3.8/site-packages (from nbformat~=5.0-&gt;myst_nb) (0.2.0)
Requirement already satisfied: jsonschema!=2.5.0,&gt;=2.4 in /usr/lib/python3/dist-packages (from nbformat~=5.0-&gt;myst_nb) (3.2.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: widgetsnbextension~=3.5.0 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from ipywidgets&lt;8,&gt;=7.0.0-&gt;myst_nb) (3.5.1)
Requirement already satisfied: ipykernel&gt;=4.5.1 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from ipywidgets&lt;8,&gt;=7.0.0-&gt;myst_nb) (5.4.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: jupyterlab-widgets&gt;=1.0.0; python_version &gt;= &quot;3.6&quot; in /home/hjhornbeck/.local/lib/python3.8/site-packages (from ipywidgets&lt;8,&gt;=7.0.0-&gt;myst_nb) (1.0.0)
Requirement already satisfied: imagesize in /home/hjhornbeck/.local/lib/python3.8/site-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (1.2.0)
Requirement already satisfied: requests&gt;=2.5.0 in /usr/lib/python3/dist-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (2.23.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: sphinxcontrib-jsmath in /home/hjhornbeck/.local/lib/python3.8/site-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (1.0.1)
Requirement already satisfied: sphinxcontrib-qthelp in /home/hjhornbeck/.local/lib/python3.8/site-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (1.0.3)
Requirement already satisfied: sphinxcontrib-serializinghtml in /home/hjhornbeck/.local/lib/python3.8/site-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (1.1.4)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: sphinxcontrib-htmlhelp in /home/hjhornbeck/.local/lib/python3.8/site-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (1.0.3)
Requirement already satisfied: sphinxcontrib-devhelp in /home/hjhornbeck/.local/lib/python3.8/site-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (1.0.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: snowballstemmer&gt;=1.1 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (2.0.0)
Requirement already satisfied: babel&gt;=1.3 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (2.9.0)
Requirement already satisfied: packaging in /usr/lib/python3/dist-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (20.4)
Requirement already satisfied: alabaster&lt;0.8,&gt;=0.7 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (0.7.12)
Requirement already satisfied: sphinxcontrib-applehelp in /home/hjhornbeck/.local/lib/python3.8/site-packages (from sphinx&lt;4,&gt;=2-&gt;myst_nb) (1.0.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: markdown-it-py~=0.5.4 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from myst-parser~=0.12.9-&gt;myst_nb) (0.5.8)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: jupyter-client&gt;=6.1.5 in /usr/lib/python3/dist-packages (from nbclient&lt;0.6,&gt;=0.2-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (6.1.6)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: async-generator in /home/hjhornbeck/.local/lib/python3.8/site-packages (from nbclient&lt;0.6,&gt;=0.2-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (1.10)
Requirement already satisfied: nest-asyncio in /home/hjhornbeck/.local/lib/python3.8/site-packages (from nbclient&lt;0.6,&gt;=0.2-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (1.4.3)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: colorama in /usr/lib/python3/dist-packages (from nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (0.4.3)
Requirement already satisfied: GitPython!=2.1.4,!=2.1.5,!=2.1.6 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (3.1.12)
Requirement already satisfied: tornado in /usr/lib/python3/dist-packages (from nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (6.0.4)
Requirement already satisfied: six in /usr/lib/python3/dist-packages (from nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (1.15.0)
Requirement already satisfied: notebook in /home/hjhornbeck/.local/lib/python3.8/site-packages (from nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (6.1.6)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pytz&gt;=2015.7 in /usr/lib/python3/dist-packages (from babel&gt;=1.3-&gt;sphinx&lt;4,&gt;=2-&gt;myst_nb) (2020.1)
Requirement already satisfied: gitdb&lt;5,&gt;=4.0.1 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from GitPython!=2.1.4,!=2.1.5,!=2.1.6-&gt;nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (4.0.5)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: prometheus-client in /usr/lib/python3/dist-packages (from notebook-&gt;nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (0.7.1)
Requirement already satisfied: argon2-cffi in /home/hjhornbeck/.local/lib/python3.8/site-packages (from notebook-&gt;nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (20.1.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: Send2Trash in /usr/lib/python3/dist-packages (from notebook-&gt;nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (1.5.0)
Requirement already satisfied: terminado&gt;=0.8.3 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from notebook-&gt;nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (0.9.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pyzmq&gt;=17 in /usr/lib/python3/dist-packages (from notebook-&gt;nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (19.0.2)
Requirement already satisfied: smmap&lt;4,&gt;=3.0.1 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from gitdb&lt;5,&gt;=4.0.1-&gt;GitPython!=2.1.4,!=2.1.5,!=2.1.6-&gt;nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (3.0.4)
Requirement already satisfied: cffi&gt;=1.0.0 in /home/hjhornbeck/.local/lib/python3.8/site-packages (from argon2-cffi-&gt;notebook-&gt;nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (1.14.4)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: ptyprocess; os_name != &quot;nt&quot; in /home/hjhornbeck/.local/lib/python3.8/site-packages (from terminado&gt;=0.8.3-&gt;notebook-&gt;nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (0.7.0)
Requirement already satisfied: pycparser in /home/hjhornbeck/.local/lib/python3.8/site-packages (from cffi&gt;=1.0.0-&gt;argon2-cffi-&gt;notebook-&gt;nbdime-&gt;jupyter-cache~=0.4.1-&gt;myst_nb) (2.20)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>

<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span><span class="p">,</span><span class="n">factorial</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">mpmath</span> <span class="kn">import</span> <span class="n">mp</span>
<span class="kn">from</span> <span class="nn">myst_nb</span> <span class="kn">import</span> <span class="n">glue</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">differential_evolution</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">beta</span><span class="p">,</span><span class="n">binom</span><span class="p">,</span><span class="n">nbinom</span>


<span class="n">dpi</span>         <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># change this to increase/decrease the resolution charts are made at</span>
<span class="n">book_output</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1">### changing this to False will allow you to view the plots in a Jupyter notebook</span>

<span class="k">def</span> <span class="nf">fig_show</span><span class="p">(</span> <span class="n">fig</span><span class="p">,</span> <span class="n">name</span> <span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A helper to control how we&#39;re displaying figures.&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">book_output</span>
    
    <span class="k">if</span> <span class="n">book_output</span><span class="p">:</span>
        <span class="n">glue</span><span class="p">(</span> <span class="n">name</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span> <span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">();</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># missing &quot;simple_bernoulli_bf.py&quot;? Uncomment this line to grab it from the repository</span>
<span class="c1"># !wget -c &quot;https://raw.githubusercontent.com/hjhornbeck/bayes_speedrun_cheating/main/simple_bernoulli_bf.py&quot;</span>

<span class="kn">from</span> <span class="nn">simple_bernoulli_bf</span> <span class="kn">import</span> <span class="n">prior</span><span class="p">,</span> <span class="n">posterior_H_fair</span><span class="p">,</span> <span class="n">BF_H_fair_H_cheat</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># missing the data files? Uncommenting and running this cell might retrieve them</span>

<span class="c1"># !mkdir data</span>
<span class="c1"># !wget -cP data &quot;https://raw.githubusercontent.com/hjhornbeck/bayes_speedrun_cheating/main/data/blaze.benex.tsv&quot;</span>
<span class="c1"># !wget -cP data &quot;https://raw.githubusercontent.com/hjhornbeck/bayes_speedrun_cheating/main/data/bartering.benex.tsv&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">colours</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">]</span>  <span class="c1"># makes colouring some of the following easier</span>
<span class="n">colours</span> <span class="o">=</span> <span class="n">colours</span> <span class="o">+</span> <span class="n">colours</span>                    <span class="c1"># double-up to allow for extra data</span>

<span class="n">blaze_players</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;benex&#39;</span><span class="p">]</span>
<span class="n">pearl_players</span> <span class="o">=</span> <span class="n">blaze_players</span>

<span class="n">blaze_rods</span> <span class="o">=</span> <span class="p">{</span><span class="n">p</span><span class="p">:</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;data/blaze.</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s1">.tsv&#39;</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">blaze_players</span><span class="p">}</span>
<span class="n">bartering</span>  <span class="o">=</span> <span class="p">{</span><span class="n">p</span><span class="p">:</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;data/bartering.</span><span class="si">{</span><span class="n">p</span><span class="si">}</span><span class="s1">.tsv&#39;</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pearl_players</span><span class="p">}</span>

<span class="n">blaze_rods</span><span class="p">[</span><span class="s1">&#39;benex&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>n</th>
      <th>11</th>
      <th>15</th>
      <th>14</th>
      <th>8</th>
      <th>13</th>
      <th>12</th>
      <th>16</th>
      <th>14</th>
      <th>7</th>
      <th>14</th>
      <th>11</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>k</th>
      <td>6</td>
      <td>7</td>
      <td>6</td>
      <td>7</td>
      <td>6</td>
      <td>7</td>
      <td>7</td>
      <td>10</td>
      <td>3</td>
      <td>5</td>
      <td>8</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span><span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="n">dpi</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>

<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>       <span class="c1"># allow for copy-paste code</span>
<span class="n">p</span> <span class="o">=</span> <span class="s1">&#39;benex&#39;</span>


<span class="c1"># Blaze rods first</span>
<span class="n">r_fair</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">priors</span> <span class="o">=</span> <span class="p">[</span><span class="n">prior</span><span class="p">(</span> <span class="n">r_fair</span><span class="p">,</span> <span class="n">scale</span> <span class="p">)</span> <span class="k">for</span> <span class="n">scale</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">]]</span>

<span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">blaze_rods</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
<span class="n">x</span>     <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">count</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sum_n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span> <span class="n">blaze_rods</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="s1">&#39;n&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="n">sum_k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span> <span class="n">blaze_rods</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="s1">&#39;k&#39;</span><span class="p">]</span> <span class="p">)</span>

<span class="c1"># p-values </span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">-</span> <span class="n">binom</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span> <span class="n">sum_k</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sum_n</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">r_blaze</span> <span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">)]</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;-r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;blaze rods&quot;</span> <span class="p">)</span>

<span class="c1"># my Bayes factor</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">BF_H_fair_H_cheat</span><span class="p">(</span><span class="n">sum_k</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sum_n</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">r_fair</span><span class="p">,</span> <span class="o">*</span><span class="n">priors</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">)]</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;-r&#39;</span> <span class="p">)</span>
    
<span class="n">y_low</span> <span class="o">=</span> <span class="p">[</span><span class="n">BF_H_fair_H_cheat</span><span class="p">(</span><span class="n">sum_k</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sum_n</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">r_fair</span><span class="p">,</span> <span class="o">*</span><span class="n">priors</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">)]</span>
<span class="n">y_hig</span> <span class="o">=</span> <span class="p">[</span><span class="n">BF_H_fair_H_cheat</span><span class="p">(</span><span class="n">sum_k</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sum_n</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">r_fair</span><span class="p">,</span> <span class="o">*</span><span class="n">priors</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">)]</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">y_low</span><span class="p">],</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">y_hig</span><span class="p">],</span> \
                     <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span> <span class="p">)</span>


<span class="c1"># Ender pearls</span>
<span class="n">r_fair</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">423</span><span class="p">)</span>
<span class="n">priors</span> <span class="o">=</span> <span class="p">[</span><span class="n">prior</span><span class="p">(</span> <span class="n">r_fair</span><span class="p">,</span> <span class="n">scale</span> <span class="p">)</span> <span class="k">for</span> <span class="n">scale</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">]]</span>

<span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">bartering</span><span class="p">[</span><span class="n">p</span><span class="p">])</span>
<span class="n">x</span>     <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">count</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sum_n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span> <span class="n">bartering</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="s1">&#39;n&#39;</span><span class="p">]</span> <span class="p">)</span>
<span class="n">sum_k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span> <span class="n">bartering</span><span class="p">[</span><span class="n">p</span><span class="p">][</span><span class="s1">&#39;k&#39;</span><span class="p">]</span> <span class="p">)</span>

<span class="c1"># p-values</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">-</span> <span class="n">binom</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span> <span class="n">sum_k</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sum_n</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">r_pearl</span> <span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">)]</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;-b&#39;</span> <span class="p">)</span>
<span class="n">glue</span><span class="p">(</span> <span class="s1">&#39;benex_pval_12&#39;</span><span class="p">,</span> <span class="n">y</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span> <span class="p">)</span>

<span class="c1"># my Bayes factor</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">BF_H_fair_H_cheat</span><span class="p">(</span><span class="n">sum_k</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sum_n</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">r_fair</span><span class="p">,</span> <span class="o">*</span><span class="n">priors</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">)]</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;-b&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;pearl barters&quot;</span> <span class="p">)</span>
<span class="n">glue</span><span class="p">(</span> <span class="s1">&#39;benex_bf_12&#39;</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="mi">11</span><span class="p">]),</span> <span class="n">display</span><span class="o">=</span><span class="kc">False</span> <span class="p">)</span>

<span class="n">y_low</span> <span class="o">=</span> <span class="p">[</span><span class="n">BF_H_fair_H_cheat</span><span class="p">(</span><span class="n">sum_k</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sum_n</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">r_fair</span><span class="p">,</span> <span class="o">*</span><span class="n">priors</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">)]</span>
<span class="n">y_hig</span> <span class="o">=</span> <span class="p">[</span><span class="n">BF_H_fair_H_cheat</span><span class="p">(</span><span class="n">sum_k</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sum_n</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">r_fair</span><span class="p">,</span> <span class="o">*</span><span class="n">priors</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">)]</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">y_low</span><span class="p">],</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">y_hig</span><span class="p">],</span> \
                     <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span> <span class="p">)</span>


<span class="c1"># add the trimmings to both charts</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">blaze_rods</span><span class="p">[</span><span class="n">p</span><span class="p">]),</span> <span class="nb">len</span><span class="p">(</span><span class="n">bartering</span><span class="p">[</span><span class="n">p</span><span class="p">]))</span> <span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.05</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">x</span><span class="p">],</span> <span class="s1">&#39;--k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;p = 0.05&#39;</span> <span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.001</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">x</span><span class="p">],</span> <span class="s1">&#39;--k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;p = 0.001&#39;</span> <span class="p">)</span>

<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mi">19</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">x</span><span class="p">],</span> <span class="s1">&#39;--k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;19:1&#39;</span> <span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">x</span><span class="p">],</span> <span class="s1">&#39;--k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;break even&#39;</span> <span class="p">)</span>

          
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;run&quot;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">blaze_rods</span><span class="p">[</span><span class="s1">&#39;benex&#39;</span><span class="p">]),</span><span class="nb">len</span><span class="p">(</span><span class="n">bartering</span><span class="p">[</span><span class="s1">&#39;benex&#39;</span><span class="p">])])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;p-value&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>

<span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;run&quot;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">blaze_rods</span><span class="p">[</span><span class="s1">&#39;benex&#39;</span><span class="p">]),</span><span class="nb">len</span><span class="p">(</span><span class="n">bartering</span><span class="p">[</span><span class="s1">&#39;benex&#39;</span><span class="p">])])</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;H_fair / H_cheat&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
          
<span class="n">fig_show</span><span class="p">(</span> <span class="n">fig</span><span class="p">,</span> <span class="s1">&#39;fig:benex_both&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">b85abe410851</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span> 
<span class="g g-Whitespace">     </span><span class="mi">16</span> <span class="c1"># p-values</span>
<span class="ne">---&gt; </span><span class="mi">17</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">-</span> <span class="n">binom</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span> <span class="n">sum_k</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sum_n</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">r_blaze</span> <span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">)]</span>
<span class="g g-Whitespace">     </span><span class="mi">18</span> <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;-r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;blaze rods&quot;</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">19</span> 

<span class="nn">&lt;ipython-input-6-b85abe410851&gt;</span> in <span class="ni">&lt;listcomp&gt;</span><span class="nt">(.0)</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span> 
<span class="g g-Whitespace">     </span><span class="mi">16</span> <span class="c1"># p-values</span>
<span class="ne">---&gt; </span><span class="mi">17</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">-</span> <span class="n">binom</span><span class="o">.</span><span class="n">cdf</span><span class="p">(</span> <span class="n">sum_k</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sum_n</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">r_blaze</span> <span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">)]</span>
<span class="g g-Whitespace">     </span><span class="mi">18</span> <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;-r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;blaze rods&quot;</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">19</span> 

<span class="ne">NameError</span>: name &#39;r_blaze&#39; is not defined
</pre></div>
</div>
<img alt="_images/conclusion_6_1.png" src="_images/conclusion_6_1.png" />
</div>
</div>
<div class="figure align-default" id="fig-benex-both">
<p class="caption"><span class="caption-number">Fig. 20 </span><span class="caption-text">A comparison of p-values and my Bayes factor for Benex’s record on Blaze rod drops and Ender pearl barters. Both metrics are calculated according to the cumulative <span class="math notranslate nohighlight">\(n\)</span> and <span class="math notranslate nohighlight">\(k\)</span> as of that run.</span><a class="headerlink" href="#fig-benex-both" title="Permalink to this image">¶</a></p>
</div>
<div class="margin sidebar">
<p class="sidebar-title">Some Cold Water</p>
<p>I should point out that this imagined world is not our own. The MST team applied corrections for multiple comparisons that would likely have watered down the p-value. Benex’s first five runs were part of one stream, while his next three were in a second stream, so the run that crossed the line was at the start of a new stream and followed by two runs that watered down his p-values. It’s highly unlikely Benex switched their Ender pearl barter rate mid-stream, so that sixth run can be safely declared an outlier and discarded.</p>
</div>
<p>These graphs tell two very different stories. We could imagine a universe where the Minecraft Speedrunning Team invoking the Peto-Haybittle stopping rule, as it is well regarded though considered too conservative to some researchers<a class="bibtex reference internal" href="zzz_bibliography.html#schulz-multiplicity-2005" id="id5">[SG05]</a>. When Benex’s p-value crossed the <span class="math notranslate nohighlight">\(p &lt; 0.001\)</span> threshold on his sixth run, they declare him to have cheated and strip him of any records he held.</p>
<p>We could also imagine a universe where the MST invoked my Bayes prior, observed the exact same run from Benex, noted his odds of fair play never dipped below 6:1 for my choice of prior, and did nothing. At no point would this universe’s MST believe Benex tweaked his Ender pearl barter rate.</p>
<p>This is just barely an example of Lindley’s Paradox.</p>
<blockquote>
<div><p>An example is produced to show that, if H is a simple hypothesis and x the result of an experiment, the following two phenomena can occur simultaneously:</p>
</div></blockquote>
<blockquote>
<div><p>(i) a significance test for H reveals that x is significant at, say, the 5% level;<br />
(ii) the posterior probability of H, given x, is, for quite small prior probabilities of H, as high as 95%.</p>
</div></blockquote>
<blockquote>
<div><p>Clearly the common-sense interpretations of (i) and (ii) are in direct conflict. The phenomenon is fairly general with significance tests and casts doubts on the meaning of a significance level in some circumstanices.<a class="bibtex reference internal" href="zzz_bibliography.html#lindley-statistical-1957" id="id6">[Lin57]</a></p>
</div></blockquote>
<div class="margin sidebar">
<p class="sidebar-title">A Neat Coincidence</p>
<p>As luck would have it, that was also the last run he made of his third stream. The Minecraft Speedrunning Team only examined six of his streams, so that twelfth run was a natural decision point for a stopping rule.</p>
</div>
<p>On the twelfth run, Benex’s cumulative p-value is , while my Bayes factor is about :1, which when translated to a percentage is over the 95% line. Dream’s data may be strong enough to point in one direction, but the data from other speedrunners is not guaranteed to do the same. Indeed, anyone interested in cheating would likely decrease their advantage below what was listed in the PE report, increasing the odds of achieving Lindley’s paradox.</p>
<p>The debate between frequentist and Bayesian statistics can have a real-world consequences, and is not to be dismissed lightly.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="data_results.html" title="previous page">Real-World Results</a>
    <a class='right-next' id="next-link" href="future_work.html" title="next page">Future Work</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By hjhornbeck<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>